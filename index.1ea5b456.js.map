{"mappings":"AAEA,MAAMA,EAAaC,SAASC,cAAc,gBAEpCC,GADmBF,SAASC,cAAc,YACzBD,SAASC,cAAc,8BAExCE,EAAoB,ICNX,MAMbC,gBAOE,MAEMC,EAAM,qEAA6CC,KAAKC,0BAA0BD,KAAKE,OAE7FC,MAAMJ,GACHK,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,KAAKQ,gBACLC,QAAQC,IAAI,gBAAiBV,SAInCQ,gBACER,KAAKE,MAAQ,EAGfS,YACEX,KAAKE,KAAO,EAGVU,YACF,OAAOZ,KAAKC,YAEVW,UAAMC,GACRb,KAAKC,YAAcY,EApCrBC,cACEd,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDIhBO,QAAQC,IAAIb,GAEZJ,EAAWsB,iBAAiB,UAG5B,SAAkBC,GAChBA,EAAIC,iBAEJpB,EAAkBI,YAAce,EAAIE,cAAcC,SAASlB,YAAYmB,MACvEvB,EAAkBc,YAClBd,EAAkBC,mBAPpBF,EAAemB,iBAAiB,SAUhC,WACElB,EAAkBC","sources":["src/index.js","src/galleryServiceAPI.js"],"sourcesContent":["import GalleryApiService from './galleryServiceAPI';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryContainer = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('[data-action=\"load-more\"]');\n\nconst galleryApiService = new GalleryApiService();\nconsole.log(galleryApiService);\n\nsearchForm.addEventListener('submit', onSearch);\nloadMoreButton.addEventListener('click', onLoadMore);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  galleryApiService.searchQuery = evt.currentTarget.elements.searchQuery.value;\n  galleryApiService.resetPage();\n  galleryApiService.fetchPictures();\n}\n\nfunction onLoadMore() {\n  galleryApiService.fetchPictures();\n}\n\n// const URL =\n//   'https://pixabay.com/api/?key=' +\n//   API_KEY +\n//   '&q=' +\n//   encodeURIComponent('red roses')$.getJSON(URL, function (data) {\n// //   if (parseInt(data.totalHits) > 0)\n//     $.each(data.hits, function (i, hit) {\n//       console.log(hit.pageURL);\n//     });\n//   else console.log('No hits');\n// });\n\n//fetch('https://pixabay.com/api/');\n\n// const fetchUsersBtn = document.querySelector('.text');\n// console.log(fetchUsersBtn);\n// //const userList = document.querySelector('.user-list');\n\n// fetchUsersBtn.addEventListener('submit', () => {\n//   fetchUsers()\n//     .then(users => renderUserList(users))\n\n//     .catch(error => console.log(error));\n\n//   console.log(98);\n// });\n\n// function fetchUsers() {\n//   return fetch('https://restcountries.com/v3.1/name').then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n// console.log(999);\n// function renderUserList(users) {\n//   const markup = users\n//     .map(user => {\n//       return `<li>\n//           <p><b>Name</b>: ${user.name}</p>\n//           <p><b>Email</b>: ${user.email}</p>\n//           <p><b>Company</b>: ${user.company.name}</p>\n//         </li>`;\n//     })\n//     .join('');\n//   userList.innerHTML = markup;\n// }\n\n//\n// };\n","export default class GalleryApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchPictures() {\n    //console.log('до запроса', this);\n    // const options = {\n    //     headers: {\n    //         Authorization: '29884579-b0e414ddacb31e478cf055115',\n    //     },\n    // };\n    const API_KEY = '29884579-b0e414ddacb31e478cf055115';\n\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${this.searchQuery}&per_page=5&${this.page}`;\n\n    fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        console.log('после запроса', this);\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$loadMoreButton","$1f0dc3b9307be026$var$galleryApiService","fetchPictures","url","this","searchQuery","page","fetch","then","r","json","data","incrementPage","console","log","resetPage","query","newQuery","constructor","addEventListener","evt","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.1ea5b456.js.map"}