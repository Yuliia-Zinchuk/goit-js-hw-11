{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,sC,SCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,IAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,GCFX,IAEegB,ECRZ,W,sBDQkBC,I,aAEjBC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,E,gBAGdT,IAAA,gB,MAAA,W,WASQU,EAAM,gCAA6CC,OAFzC,qCAEoC,OAAyBA,OAApBJ,KAAKC,YAAY,KAAkCG,OAjB5F,0DAiByE,qBAA6BA,OAAVJ,KAAKE,MAEjH,OAAOG,MAAMF,GACVG,MAAK,SAAAC,G,OAAKA,EAAEC,UACZF,MAAK,SAAAG,GAKJ,OAHAC,EAAKC,gBACLC,QAAQC,IAAI,gBAAeH,GAEpBD,EAAKK,U,CAIlBrB,IAAA,gB,MAAA,WACEO,KAAKE,MAAQ,I,CAGfT,IAAA,Y,MAAA,WACEO,KAAKE,KAAO,I,CAGVT,IAAA,Q,IAAJ,WACE,OAAOO,KAAKC,a,IAEd,SAAUc,GACRf,KAAKC,YAAcc,M,EChDpB,GCEGC,EAAaC,SAASC,cAAc,gBACpCC,EAAmBF,SAASC,cAAc,YAC1CE,EAAiBH,SAASC,cAAc,6BAExCG,EAAoB,IAAIvB,EAkB9B,SAASwB,EAAmBR,GAC1BF,QAAQC,IAAIC,GACZ,IAAMS,EAAOT,EACVU,KAAI,SAAAC,GACH,MAAO,6CAEWrB,OADcqB,EAAIC,cAAc,oDACtBtB,OAAVqB,EAAIE,MAAM,mDAK7BC,KAAK,IAERT,EAAiBU,mBAAmB,YAAaN,GA9BnDX,QAAQC,IAAIQ,GAEZL,EAAWc,iBAAiB,UAG5B,SAAkBC,GAChBA,EAAIC,iBAEJX,EAAkBpB,YAAc8B,EAAIE,cAAcC,SAASjC,YAAYtB,MACvE0C,EAAkBc,YAClBd,EAAkBe,gBAAgB9B,KAAKgB,MAPzCF,EAAeU,iBAAiB,SAUhC,WACET,EAAkBe,gBAAgB9B,KAAKgB,M","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/galleryServiceAPI.js","<<jsx-config-pragma.js>>","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","// key - твой уникальный ключ доступа к API.\n// q - термин для поиска. То, что будет вводить пользователь.\n// image_type - тип изображения. Мы хотим только фотографии, поэтому задай значение photo.\n// orientation - ориентация фотографии. Задай значение horizontal.\n//     safesearch - фильтр по возрасту.Задай значение true.\n\nconst fieldParams = 'image_type=photo&orientation=horizontal&safesearch=true';\n\nexport default class GalleryApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchPictures() {\n    //console.log('до запроса', this);\n    // const options = {\n    //     headers: {\n    //         Authorization: '29884579-b0e414ddacb31e478cf055115',\n    //     },\n    // };\n    const API_KEY = '29884579-b0e414ddacb31e478cf055115';\n\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${this.searchQuery}&${fieldParams}&per_page=5&page=${this.page}`;\n\n    return fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        //console.log(data);\n        this.incrementPage();\n        console.log('после запроса', this);\n\n        return data.hits;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n",null,"import GalleryApiService from './galleryServiceAPI';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryContainer = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('[data-action=\"load-more\"]');\n\nconst galleryApiService = new GalleryApiService();\nconsole.log(galleryApiService);\n\nsearchForm.addEventListener('submit', onSearch);\nloadMoreButton.addEventListener('click', onLoadMore);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  galleryApiService.searchQuery = evt.currentTarget.elements.searchQuery.value;\n  galleryApiService.resetPage();\n  galleryApiService.fetchPictures().then(renderPicturesList);\n}\n\nfunction onLoadMore() {\n  galleryApiService.fetchPictures().then(renderPicturesList);\n}\n\nfunction renderPicturesList(hits) {\n  console.log(hits);\n  const list = hits\n    .map(hit => {\n      return `<li>\n          <img class=\"picture\" src=\"${hit.largeImageURL}\" alt=\"flag\" width=\"60\">\n                  <h3>${hit.likes}</h3>\n\n                </li>\n            `;\n    })\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', list);\n}\n\n// const URL =\n//   'https://pixabay.com/api/?key=' +\n//   API_KEY +\n//   '&q=' +\n//   encodeURIComponent('red roses')$.getJSON(URL, function (data) {\n// //   if (parseInt(data.totalHits) > 0)\n//     $.each(data.hits, function (i, hit) {\n//       console.log(hit.pageURL);\n//     });\n//   else console.log('No hits');\n// });\n\n//fetch('https://pixabay.com/api/');\n\n// const fetchUsersBtn = document.querySelector('.text');\n// console.log(fetchUsersBtn);\n// //const userList = document.querySelector('.user-list');\n\n// fetchUsersBtn.addEventListener('submit', () => {\n//   fetchUsers()\n//     .then(users => renderUserList(users))\n\n//     .catch(error => console.log(error));\n\n//   console.log(98);\n// });\n\n// function fetchUsers() {\n//   return fetch('https://restcountries.com/v3.1/name').then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n// console.log(999);\n// function renderUserList(users) {\n//   const markup = users\n//     .map(user => {\n//       return `<li>\n//           <p><b>Name</b>: ${user.name}</p>\n//           <p><b>Email</b>: ${user.email}</p>\n//           <p><b>Company</b>: ${user.company.name}</p>\n//         </li>`;\n//     })\n//     .join('');\n//   userList.innerHTML = markup;\n// }\n\n//\n// };\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$de6d22bcd080b8cf$export$2e2bcd8739ae039","GalleryApiService","this","searchQuery","page","url","concat","fetch","then","r","json","data","_this","incrementPage","console","log","hits","newQuery","$b8f9b7833fa37166$var$searchForm","document","querySelector","$b8f9b7833fa37166$var$galleryContainer","$b8f9b7833fa37166$var$loadMoreButton","$b8f9b7833fa37166$var$galleryApiService","$b8f9b7833fa37166$var$renderPicturesList","list","map","hit","largeImageURL","likes","join","insertAdjacentHTML","addEventListener","evt","preventDefault","currentTarget","elements","resetPage","fetchPictures"],"version":3,"file":"index.547b866e.js.map"}